:host ::ng-deep {
    .p-datatable {
        .p-datatable-header,
        .p-datatable-caption,
        .p-datatable-thead > tr > th {
            background: var(--surface-a); // Adapts to light/dark mode
            color: var(--text-color);     // Ensures text color adapts
            padding: 1rem;
        }

        .p-datatable-tbody > tr > td {
            background: var(--surface-card); // For table body cells
            padding: 1rem;
            color: var(--text-color);        // Text adapts to theme
        }
    }

    // Company logo styling
    .company-logo {
        width: 40px;
        height: 40px;
        object-fit: contain;
        background: var(--surface-a); // Adapts to light/dark mode
        padding: 0.25rem;
        border-radius: 4px;
    }

    // Organigramme card styling
    .organigramme-card {
        background: var(--surface-card); // Adapts to light/dark mode
        border-radius: 8px;
        transition: transform 0.2s, box-shadow 0.2s;

        &:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .image-container {
            position: relative;
            width: 100%;
            padding-top: 75%; // 4:3 aspect ratio
            overflow: hidden;
            border-radius: 6px;
            background: var(--surface-a); // Adapts to light/dark mode

            .organigramme-image {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                object-fit: contain;
                transition: transform 0.3s;
            }

            .image-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.4);
                display: flex;
                justify-content: center;
                align-items: center;
                opacity: 0;
                transition: opacity 0.3s;

                .p-button-text {
                    color: white;

                    &:hover {
                        background: rgba(255, 255, 255, 0.2);
                    }
                }
            }

            &:hover {
                .image-overlay {
                    opacity: 1;
                }
            }
        }
    }

    // Full-size image dialog
    .image-dialog {
        .p-dialog-content {
            padding: 0;
            overflow: hidden;
        }

        .full-size-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: var(--surface-a); // Adapts to light/dark mode
        }
    }

    // Empty state and loading state improvements
    .text-700 {
        color: var(--text-color-secondary); // Adapts text color
    }

    .p-input-icon-left input {
        background: var(--surface-a); // Adapts input background
        color: var(--text-color);     // Input text adapts
    }

    // .p-button-success {
    //     background: var(--green-500); // Adjust button colors for dark mode
    //     border: none;

    //     &:hover {
    //         background: var(--green-600);
    //     }
    // }

    .p-button {
        color: var(--text-color);
    }

    .p-sortable-column {
        color: var(--text-color); // Sortable column adapts
    }

    // Primary button styling
    .p-button.p-button-primary {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: var(--primary-color-text);

        &:enabled:hover {
            background: var(--primary-600);
            border-color: var(--primary-600);
        }

        &:enabled:active {
            background: var(--primary-700);
            border-color: var(--primary-700);
        }

        &:focus {
            box-shadow: 0 0 0 2px var(--surface-ground), 0 0 0 4px var(--primary-300);
        }
    }

    // Responsive adjustments
    @media screen and (max-width: 768px) {
        .organigramme-card {
            .image-container {
                padding-top: 100%; // 1:1 aspect ratio on mobile
            }
        }
    }
}
